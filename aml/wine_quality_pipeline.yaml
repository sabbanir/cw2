$schema: https://azuremlschemas.azureedge.net/latest/commandJob.schema.json
code: ../src
command: >-
  python wine_quality_model.py  --wine_data_red ${{inputs.winequality_red_b01048312}} \
  --wine_data_white ${{inputs.winequality_white_b01048312}} \
  --out_dir ./artifacts \
  --azure_tracking_uri azureml://uksouth.api.azureml.ms/mlflow/v1.0/subscriptions/b9e872d3-bc9a-4cfb-bc41-87c893f4af9c/resourceGroups/com774_resource/providers/Microsoft.MachineLearningServices/workspaces/com774_workspace \
  --registered_model_name wine-quality-rf


inputs:
  winequality_red_b01048312:
    type: uri_file
    path: azureml:winequality_red_b01048312:1
  winequality_white_b01048312:
    type: uri_file
    path: azureml:winequality_white_b01048312:1
environment: azureml:com774_wine_quality_env:3
#environment:
#  image: com774dockerimage.azurecr.io/wineimage:1.0.0
compute: com774cluster
experiment_name: wine_quality
description: Wine Quality Model evaluation